(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{238:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return n}));var i=function(e){if(!e)return"Required!"},n=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e)}}},239:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s(3),n=s(236),c=s(2),r=s(240),a=s.n(r),o=function(e){return function(t){var s=t.input,r=t.meta,o=Object(n.a)(t,["input","meta"]),l=r.touched&&r.error;return Object(c.jsxs)("div",{className:"".concat(a.a.formControl," ").concat(l?a.a.error:""),children:[Object(c.jsx)(e,Object(i.a)(Object(i.a)({},s),o)),l&&Object(c.jsx)("span",{children:r.error})]})}}},240:function(e,t,s){e.exports={formControl:"FormControls_formControl__3WObq",error:"FormControls_error__teiEC"}},242:function(e,t,s){"use strict";t.a=s.p+"static/media/profile_default_pic.33564136.png"},244:function(e,t,s){},245:function(e,t,s){},246:function(e,t,s){},248:function(e,t,s){"use strict";var i=s(2),n=(s(244),s(58)),c=(s(245),s(246),""),r=function(e){return c="1"===e.active?"active":"",Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post_top",children:[Object(i.jsx)("a",{href:"#s",className:"post_img",children:Object(i.jsx)("img",{src:e.img,alt:"",title:e.name})}),Object(i.jsx)("div",{className:"post_text",children:e.text})]}),Object(i.jsxs)("div",{className:"post_bottom",children:[Object(i.jsx)("button",{className:"post_like ".concat(c),children:Object(i.jsx)("img",{src:"",alt:""})}),Object(i.jsx)("span",{className:"post_like__count",children:e.likes})]})]})},a=s(0),o=s(110),l=s(111),j=s(238),u=s(239),p=Object(j.a)(30),f=Object(u.a)("input"),d=Object(l.a)({form:"MyPost"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,className:"posts_form",children:[Object(i.jsx)(o.a,{component:f,name:"text",type:"text",className:"posts_input",placeholder:"Your news...",validate:[p,j.b]}),Object(i.jsx)("button",{type:"submit",className:"posts_btn",children:"Send"})]})})),b=Object(a.memo)((function(e){var t=e.state.posts.map((function(e){return Object(i.jsx)(r,{id:e.id,img:e.img,name:e.name,text:e.text,likes:e.likes,active:e.active},e.id)}));return Object(i.jsx)("div",{className:"profile_item my_posts",children:Object(i.jsxs)("div",{className:"my_posts__inner",children:[Object(i.jsx)("div",{className:"posts_title profile_title",children:"My posts"}),Object(i.jsx)(d,{onSubmit:function(t){e.addPost(t.text)}}),Object(i.jsx)("div",{className:"posts",children:t})]})})})),h=s(16),m=Object(h.b)((function(e){return{state:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(n.a)(t))}}}))(b),O=s(32),x=s(241),_=function(e){var t=Object(a.useState)(!1),s=Object(x.a)(t,2),n=s[0],c=s[1],r=Object(a.useState)(e.status),o=Object(x.a)(r,2),l=o[0],j=o[1];Object(a.useEffect)((function(){j(e.status)}),[e.status]);return Object(i.jsx)("div",{children:n?Object(i.jsx)("div",{className:"profile__status",onBlur:function(){c(!1),e.updateStatus(l)},children:Object(i.jsx)("input",{autoFocus:!0,type:"text",onChange:function(e){j(e.currentTarget.value)},value:l})}):Object(i.jsx)("div",{className:"profile__status",onDoubleClick:function(){e.isOwner&&c(!0)},children:Object(i.jsx)("span",{children:e.status?e.status:"Empty status"})})})},g=s(242);t.a=function(e){return e.state.profile?Object(i.jsxs)("div",{className:"profile",children:[Object(i.jsx)(_,{status:e.state.status,isOwner:e.isOwner,updateStatus:e.updateStatus}),Object(i.jsxs)("div",{className:"profile_inner profile_item",children:[Object(i.jsx)("img",{className:"avatar_img",src:e.state.profile.photos.large||g.a,alt:""}),Object(i.jsxs)("div",{className:"profile_info",children:[Object(i.jsxs)("div",{className:"profile_info_inner",children:[Object(i.jsx)("div",{className:"profile_name profile_title",children:e.state.profile.fullName}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Looking for a job:",Object(i.jsx)("span",{children:e.state.profile.lookingForAJob?"Yes":"No"})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Looking for a job description:",Object(i.jsx)("span",{children:e.state.profile.lookingForAJobDescription})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["About me:",Object(i.jsx)("span",{children:e.state.profile.aboutMe})]})]}),Object(i.jsxs)("div",{className:"profile_info_inner",children:[Object(i.jsxs)("div",{className:"profile_info__item",children:["Facebook:",Object(i.jsx)("a",{href:e.state.profile.contacts.facebook,children:Object(i.jsx)("span",{children:e.state.profile.contacts.facebook})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Website:",Object(i.jsx)("a",{href:e.state.profile.contacts.website,children:Object(i.jsx)("span",{children:e.state.profile.contacts.website})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["VK:",Object(i.jsx)("a",{href:e.state.profile.contacts.vk,children:Object(i.jsx)("span",{children:e.state.profile.contacts.vk})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Twitter:",Object(i.jsx)("a",{href:e.state.profile.contacts.twitter,children:Object(i.jsx)("span",{children:e.state.profile.contacts.twitter})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Instagram:",Object(i.jsx)("a",{href:e.state.profile.contacts.instagram,children:Object(i.jsx)("span",{children:e.state.profile.contacts.instagram})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Youtube:",Object(i.jsx)("a",{href:e.state.profile.contacts.youtube,children:Object(i.jsx)("span",{children:e.state.profile.contacts.youtube})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Github:",Object(i.jsx)("a",{href:e.state.profile.contacts.github,children:Object(i.jsx)("span",{children:e.state.profile.contacts.github})})]}),Object(i.jsxs)("div",{className:"profile_info__item",children:["Main link:",Object(i.jsx)("a",{href:e.state.profile.contacts.mainLink,children:Object(i.jsx)("span",{children:e.state.profile.contacts.mainLink})})]})]})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})}),Object(i.jsx)(m,{})]}):Object(i.jsx)(O.a,{})}},254:function(e,t,s){},334:function(e,t,s){"use strict";s.r(t);var i=s(35),n=s(33),c=s(37),r=s(36),a=s(2),o=(s(254),s(83)),l=s(16),j=s(0),u=s.n(j),p=(s(248),s(32)),f=s(331),d=s(12),b=s(242),h=function(e){return Object(a.jsxs)("div",{className:"users_item",children:[Object(a.jsxs)("div",{className:"user_profile",children:[Object(a.jsx)(d.b,{to:"/profile/".concat(e.user.id),children:Object(a.jsx)("div",{className:"users_img",children:Object(a.jsx)("img",{src:e.user.photos.small||b.a,alt:""})})}),e.user.followed?Object(a.jsx)("div",{className:"user_profile__btn active",onClick:function(){e.unfollowUser(e.user.id)},children:Object(a.jsx)("button",{disabled:e.isFollowingInProgress.some((function(t){return t===e.user.id})),children:"unfollow"})}):Object(a.jsx)("div",{className:"user_profile__btn",onClick:function(){e.followUser(e.user.id)},children:Object(a.jsx)("button",{disabled:e.isFollowingInProgress.some((function(t){return t===e.user.id})),children:"follow"})})]}),Object(a.jsxs)("div",{className:"user_content",children:[Object(a.jsx)(d.b,{to:"/profile/".concat(e.user.id),children:Object(a.jsx)("div",{className:"user_name",children:e.user.name})}),Object(a.jsx)("div",{className:"user_status",children:e.user.status})]}),Object(a.jsx)("div",{className:"user_location"})]},e.user.key)},m=function(e){for(var t=Math.ceil(e.state.totalUsersCount/e.state.pageSize),s=[],i=1;i<=t;i++)s.push(i);return Object(a.jsx)("div",{className:"users",children:Object(a.jsxs)("div",{className:"users_inner",children:[Object(a.jsx)("div",{className:"profile_title users_title",children:"Users"}),Object(a.jsx)("div",{className:"pagination users__pagination",children:Object(a.jsx)(f.a,{count:t,page:e.state.currentPage,onChange:function(t,s){e.onPageChanged(s)},siblingCount:2})}),e.state.isFetching&&Object(a.jsx)(p.a,{}),e.state.users.map((function(t){return Object(a.jsx)(h,{user:t,followUser:e.followUser,unfollowUser:e.unfollowUser,isFollowingInProgress:e.state.isFollowingInProgress},e.key)}))]})})},O=s(313),x=s.n(O),_=s(6),g=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onPageChanged=function(t){e.props.history.push("/users?page=".concat(t))},e}return Object(n.a)(s,[{key:"pageChangedOnUrl",value:function(){var e=x.a.parse(this.props.location.search),t=Number(e.page);t||(t=this.props.state.currentPage,this.props.history.push("/users?page=".concat(t)),this.props.requestUsers(t,this.props.state.pageSize)),this.props.requestUsers(t,this.props.state.pageSize)}},{key:"componentDidMount",value:function(){this.pageChangedOnUrl()}},{key:"componentDidUpdate",value:function(e,t){x.a.parse(this.props.location.search).page!==x.a.parse(e.location.search).page&&this.pageChangedOnUrl()}},{key:"render",value:function(){return Object(a.jsx)(m,{state:this.props.state,onPageChanged:this.onPageChanged,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,followingInProgress:this.props.followingInProgress})}}]),s}(u.a.Component),v={followUser:o.a,unfollowUser:o.d,requestUsers:o.b,setCurrentPage:o.c};t.default=Object(l.b)((function(e){return{state:e.usersPage}}),v)(Object(_.f)(g))}}]);
//# sourceMappingURL=5.185b8945.chunk.js.map