(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{236:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var n=s(7);function i(t,e){if(null==t)return{};var s,i,r=Object(n.a)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}},240:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var n=s(63);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,i=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(n=(o=c.next()).done)&&(s.push(o.value),!e||s.length!==e);n=!0);}catch(a){i=!0,r=a}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},241:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var n=s(3),i=s(236),r=s(2),o=s(244),c=s.n(o),a=function(t){return function(e){var s=e.input,o=e.meta,a=Object(i.a)(e,["input","meta"]),l=o.touched&&o.error;return Object(r.jsxs)("div",{className:"".concat(c.a.formControl," ").concat(l?c.a.error:""),children:[Object(r.jsx)(t,Object(n.a)(Object(n.a)({},s),a)),l&&Object(r.jsx)("span",{children:o.error})]})}}},243:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return i}));var n=function(t){if(!t)return"Required!"},i=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t)}}},244:function(t,e,s){t.exports={formControl:"FormControls_formControl__3WObq",error:"FormControls_error__teiEC"}},249:function(t,e,s){"use strict";e.a=s.p+"static/media/profile_default_pic.33564136.png"},266:function(t,e,s){},267:function(t,e,s){},268:function(t,e,s){},331:function(t,e,s){"use strict";s.r(e);var n=s(34),i=s(32),r=s(37),o=s(36),c=s(2),a=s(0),l=s.n(a),u=s(3),p=s(240),j=(s(266),s(62)),f=(s(267),s(268),""),b=function(t){return f="1"===t.active?"active":"",Object(c.jsxs)("div",{className:"post",children:[Object(c.jsxs)("div",{className:"post_top",children:[Object(c.jsx)("a",{href:"#s",className:"post_img",children:Object(c.jsx)("img",{src:t.img,alt:"",title:t.name})}),Object(c.jsx)("div",{className:"post_text",children:t.text})]}),Object(c.jsxs)("div",{className:"post_bottom",children:[Object(c.jsx)("button",{className:"post_like ".concat(f),children:Object(c.jsx)("img",{src:"",alt:""})}),Object(c.jsx)("span",{className:"post_like__count",children:t.likes})]})]})},d=s(110),m=s(111),h=s(243),O=s(241),x=Object(h.a)(30),_=Object(O.a)("input"),v=Object(m.a)({form:"MyPost"})((function(t){return Object(c.jsxs)("form",{onSubmit:t.handleSubmit,className:"posts_form",children:[Object(c.jsx)(d.a,{component:_,name:"text",type:"text",className:"posts_input",placeholder:"Your news...",validate:[x,h.b]}),Object(c.jsx)("button",{type:"submit",className:"posts_btn",children:"Send"})]})})),y=Object(a.memo)((function(t){var e=t.state.posts.map((function(t){return Object(c.jsx)(b,{id:t.id,img:t.img,name:t.name,text:t.text,likes:t.likes,active:t.active},t.id)}));return Object(c.jsx)("div",{className:"profile_item my_posts",children:Object(c.jsxs)("div",{className:"my_posts__inner",children:[Object(c.jsx)("div",{className:"posts_title profile_title",children:"My posts"}),Object(c.jsx)(v,{onSubmit:function(e){t.addPost(e.text)}}),Object(c.jsx)("div",{className:"posts",children:e})]})})})),N=s(16),g=Object(N.b)((function(t){return{state:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(j.a)(e))}}}))(y),k=s(35),S=function(t){var e=Object(a.useState)(!1),s=Object(p.a)(e,2),n=s[0],i=s[1],r=Object(a.useState)(t.status),o=Object(p.a)(r,2),l=o[0],u=o[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(c.jsx)("div",{children:n?Object(c.jsx)("div",{className:"profile__status",onBlur:function(){i(!1),t.updateStatus(l)},children:Object(c.jsx)("input",{autoFocus:!0,type:"text",onChange:function(t){u(t.currentTarget.value)},value:l})}):Object(c.jsx)("div",{className:"profile__status",onDoubleClick:function(){return i(!0)},children:Object(c.jsx)("span",{children:t.status?t.status:"change status"})})})},I=s(249),P=function(t){var e=Object.keys(t.state.profile.contacts).map((function(e){return Object(c.jsxs)("div",{className:"profile_info__item",children:[e,":",Object(c.jsx)("a",{href:t.state.profile.contacts[e],children:Object(c.jsx)("span",{children:t.state.profile.contacts[e]})})]})}));return Object(c.jsxs)("div",{className:"profile_info",children:[Object(c.jsxs)("div",{className:"profile_info_inner",children:[Object(c.jsx)("div",{className:"profile_name profile_title",children:t.state.profile.fullName}),Object(c.jsxs)("div",{className:"profile_info__item",children:["Looking for a job:",Object(c.jsx)("span",{children:t.state.profile.lookingForAJob?"Yes":"No"})]}),Object(c.jsxs)("div",{className:"profile_info__item",children:["Looking for a job description:",Object(c.jsx)("span",{children:t.state.profile.lookingForAJobDescription})]}),Object(c.jsxs)("div",{className:"profile_info__item",children:["About me:",Object(c.jsx)("span",{children:t.state.profile.aboutMe})]})]}),Object(c.jsx)("div",{className:"profile_info_inner",children:e}),Object(c.jsx)("button",{className:"posts_btn",onClick:t.onClick,children:"Redact profile"})]})},A=Object(O.a)("input"),C=Object(m.a)({form:"ProfileInfo",enableReinitialize:!0})((function(t){var e=Object.keys(t.state.profile.contacts).map((function(t){return Object(c.jsx)("div",{className:"profile_info__item",children:Object(c.jsx)(d.a,{type:"text",placeholder:t,name:"contacts."+t,component:A})})}));return Object(c.jsxs)("form",{className:"profile_info",onSubmit:t.handleSubmit,children:[Object(c.jsxs)("div",{className:"profile_info_inner",children:[Object(c.jsx)(d.a,{type:"text",placeholder:"fullName",name:"fullName",component:A}),Object(c.jsxs)("div",{className:"profile_info__item",children:[Object(c.jsx)("label",{htmlFor:"lookingForAJob",children:"Looking for a job"}),Object(c.jsx)(d.a,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",component:A})]}),Object(c.jsx)("div",{className:"profile_info__item",children:Object(c.jsx)(d.a,{type:"text",placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:A})}),Object(c.jsx)("div",{className:"profile_info__item",children:Object(c.jsx)(d.a,{type:"text",placeholder:"aboutMe",name:"aboutMe",component:A})})]}),Object(c.jsx)("div",{className:"profile_info_inner",children:e}),t.error&&Object(c.jsx)("div",{children:t.error}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"posts_btn",type:"submit",children:"Confirm"})})]})})),F=function(t){var e=Object(a.useState)(!1),s=Object(p.a)(e,2),n=s[0],i=s[1],r=function(){i(!n)};return t.state.profile?Object(c.jsxs)("div",{className:"profile",children:[Object(c.jsx)(S,{status:t.state.status,updateStatus:t.updateStatus}),Object(c.jsxs)("div",{className:"profile_inner profile_item",children:[Object(c.jsx)("img",{className:"avatar_img",src:t.state.profile.photos.large?t.state.profile.photos.large:I.a,alt:""}),n?Object(c.jsx)(C,Object(u.a)({onSubmit:function(e){console.log(e),t.updateProfileInfo(e),r()},initialValues:t.state.profile},t)):Object(c.jsx)(P,Object(u.a)({onClick:r},t))]}),Object(c.jsx)(g,{})]}):Object(c.jsx)(k.a,{})},U=s(6),J=s(21),w=function(t){return t.auth.isAuth},M=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"getUserId",value:function(){var t=this.props.match.params.userId;return!t&&this.props.isAuth&&(t=this.props.authId),t}},{key:"componentDidMount",value:function(){this.props.setProfile(this.getUserId()),this.props.setUserStatus(this.getUserId())}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&(this.props.setProfile(this.getUserId()),this.props.setUserStatus(this.getUserId()))}},{key:"render",value:function(){return this.props.match.params.userId||this.props.isAuth?this.props.state.isFetching?Object(c.jsx)(k.a,{}):Object(c.jsx)(F,{state:this.props.state,setUserStatus:this.props.setUserStatus,updateStatus:this.props.updateStatus,updateProfileInfo:this.props.updateProfileInfo}):Object(c.jsx)(U.a,{to:"/login"})}}]),s}(l.a.Component),D={setProfile:j.c,setUserStatus:j.d,updateStatus:j.f,updateProfileInfo:j.e};e.default=Object(J.d)(Object(N.b)((function(t){return{state:t.profilePage,authId:t.auth.id,isAuth:w(t)}}),D),U.f)(M)}}]);
//# sourceMappingURL=4.0770d9d3.chunk.js.map